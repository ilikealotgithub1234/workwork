<!DOCTYPE html>
<html>
<head>
  <script src = "https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"></script>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <script>
  let i = 0;
  /*
  function platformcollide(){
  for(var i = 0; i = 0; i = 0){
  var r = Math.floor((Math.random())*255)
  var b = Math.floor((Math.random())*255)
  var g = Math.floor((Math.random())*255)
  player.color("rgb("r"+"g"+"b")");
}

}

*/
let coins = 0
function win(){
  if(i === 0){
    alert("You're winner")
    console.log("cheese")
    i++
    Crafty.audio.play("WOW")
    Crafty.enterScene("level two");
  }

  function destroyPlatform(platform){
    platform.destroy(platform)
  }


  }

function start(){
  Crafty.init()
  Crafty.defineScene("first level", function() {
    Crafty.background("#000000");
    //var ent = Crafty.e("2D, DOM, Image").image("firstanim-walking.gif");


    Crafty.audio.add("WOW", "wow.wav");

    let player = Crafty.e("2D, DOM, Color, Fourway, Solid, Collision, Player, Image").image("walking_animation_by_ivy_mitsuno-d5uqern.gif");
    player.attr( {
      x:100,
      y:100,
      w:0,
      h:0
    });
    player.color("purple")
    player.fourway();
    player.collision()
    player.onHit("hit", killPlatform);
    player.onHit("hit", killPlatform2);
    player.onHit("hit", killPlatform3);
    player.onHit("hit", killPlatform4);
    player.onHit("hit", killPlatform5);
    player.onHit("hit", killPlatform6);
    player.onHit("hit", killPlatform7);


    function killPlatform(){
      platform.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform2(){
      platform2.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform3(){
      platform3.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform4(){
      platform4.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform5(){
      platform5.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform6(){
      platform6.destroy();
      coins++;
      console.log(coins)
    }
    function killPlatform7(){
      platform7.destroy();
      coins++;
    }

    let platform = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform.attr({ x : 100, y : 200, w : 0, h : 0});
    platform.color("blue");


    let platform2 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform2.attr({ x : 400, y : 150, w : 0, h : 0});
    platform2.color("blue");

    let platform3 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform3.attr({ x : 850, y : 150, w : 0, h : 0});
    platform3.color("blue");

    let platform4 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform4.attr({ x : 400, y : 150, w : 0, h : 0});
    platform4.color("blue");

    let platform5 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform5.attr({ x : 400, y : 150, w : 0, h : 0});
    platform5.color("blue");

    let platform6 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform6.attr({ x : 200, y : 400, w : 238, h : 25});
    platform6.color("blue");

    let platform7 = Crafty.e("Platform ,2D, DOM, Color, Collision, Solid, hit")
    platform7.attr({ x : 800, y : 400, w : 238, h : 25});
    platform7.color("blue");

    let goal = Crafty.e("2D, DOM, Color, Solid, Collision")

    goal.color("Green")


    goal.onHit("Player",win)

  });
Crafty.enterScene("first level")
}
window.onload = start;

</script>
</body>
</html>
