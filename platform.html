<!DOCTYPE html>
<html>
<head>
  <script src = "https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"></script>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <script>
  let i = 0;
  /*
  function platformcollide(){
  for(var i = 0; i = 0; i = 0){
  var r = Math.floor((Math.random())*255)
  var b = Math.floor((Math.random())*255)
  var g = Math.floor((Math.random())*255)
  player.color("rgb("r"+"g"+"b")");
}

}

*/

function win(){
  if(i === 0){
    alert("You're winner")
    console.log("cheese")
    i++
  }

  else{
    alert("Next level Initiate")

  }
}
function start(){
  Crafty.init()
  let player = Crafty.e("2D, DOM, Color, Twoway, Gravity, Solid, Collision, Player, Image").image("firstanim-walking copy.gif");
  player.attr( {
    x:100,
    y:100,
    w:50,
    h:25
  });

  player.twoway();
  player.gravity("Platform")

  let platform = Crafty.e("Platform ,2D, DOM, Color, Collision")
  platform.attr({ x : 100, y : 200, w : 250, h : 25});
  platform.color("blue");

  let platform2 = Crafty.e("Platform ,2D, DOM, Color, Collision")
  platform2.attr({ x : 400, y : 150, w : 238, h : 25});
  platform2.color("blue");

  let platform3 = Crafty.e("Platform ,2D, DOM, Color, Collision")
  platform3.attr({ x : 850, y : 150, w : 200, h : 25});
  platform3.color("blue");

  let platform4 = Crafty.e("Platform ,2D, DOM, Color, Collision")
  platform4.attr({ x : 400, y : 150, w : 238, h : 25});
  platform4.color("blue");
  /*
  platform.onhit("Player", platformcollide)
  platform2.onhit("Player", platformcollide)
  platform3.onhit("Player", platformcollide)
  platform4.onhit("Player", platformcollide)
  */
  let goal = Crafty.e("2D, DOM, Color, Solid, Collision")
  goal.attr({ x:500,y:300,w:25,h:25})
  goal.color("Green")

  goal.onHit("Player",win)



}
window.onload = start;
</script>
</body>
</html>
